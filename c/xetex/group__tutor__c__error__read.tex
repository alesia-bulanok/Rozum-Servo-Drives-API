\hypertarget{group__tutor__c__error__read}{}\section{Reading device errors}
\label{group__tutor__c__error__read}\index{Reading device errors@{Reading device errors}}
The tutorial describes how to read the total number of errors that occurred on the servo and to display their description.


\begin{DoxyEnumerate}
\item Initialize the interface.
\end{DoxyEnumerate}


\begin{DoxyCodeInclude}
    \hyperlink{structrr__can__interface__t}{rr\_can\_interface\_t} *iface = \hyperlink{group___init_ga472a4890dcc7d7a13123c56a06946d91}{rr\_init\_interface}(\textcolor{comment}{/*TUTORIAL\_DEVICE*/} \textcolor{stringliteral}{"
      /dev/ttyS3"});
\end{DoxyCodeInclude}



\begin{DoxyEnumerate}
\item Initialize the servo. 
\begin{DoxyCodeInclude}
    \hyperlink{structrr__servo__t}{rr\_servo\_t} *servo = \hyperlink{group___init_ga0adb313a3eeb8a4399431e940a1f3e9e}{rr\_init\_servo}(iface, 
      \hyperlink{tutorial_8h_a9a3d33f25d3a72a8e30c885d238b3b65}{TUTORIAL\_SERVO\_0\_ID});
\end{DoxyCodeInclude}
 {\bfseries  Reading the current error count}
\item Create a variable where the function will read the current error count. 
\begin{DoxyCodeInclude}
    uint32\_t \_size;
\end{DoxyCodeInclude}

\item Read the current error count. {\bfseries Note}\+: The \char`\"{}array\char`\"{} argument is zero (we don\textquotesingle{}t need to read error bits). 
\begin{DoxyCodeInclude}
    \hyperlink{group___err_ga0803e0fab3e22b1bcb3f51aa393328b4}{rr\_read\_error\_status}(servo, &\_size, 0);
\end{DoxyCodeInclude}
 {\bfseries  Reading the current error count and error bits}
\item Create an array where the function will read the current error bits. 
\begin{DoxyCodeInclude}
    uint8\_t array[100];
\end{DoxyCodeInclude}

\item Create a variable where the function will read the current error count. 
\begin{DoxyCodeInclude}
    uint32\_t size;
\end{DoxyCodeInclude}

\item Read the current error count and error bits (if any). 
\begin{DoxyCodeInclude}
    \hyperlink{group___err_ga0803e0fab3e22b1bcb3f51aa393328b4}{rr\_read\_error\_status}(servo, &\_size, 0);
\end{DoxyCodeInclude}

\item Cycle print of error bits (described by \hyperlink{group___err_gaa949cec80a64afa06ed9816fe1132888}{rr\+\_\+describe\+\_\+emcy\+\_\+bit} function). 
\begin{DoxyCodeInclude}
    \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < size; i++)
    \{
        \hyperlink{api_8h_a0e4aafa2ca9bd25219713176906b7c40}{API\_DEBUG}(\textcolor{stringliteral}{"\(\backslash\)t\(\backslash\)tError: %s\(\backslash\)n"}, \hyperlink{group___err_gaa949cec80a64afa06ed9816fe1132888}{rr\_describe\_emcy\_bit}(array[i]));
    \}
\end{DoxyCodeInclude}
 {\bfseries  Complete tutorial code\+: } 
\begin{DoxyCodeInclude}
    \hyperlink{structrr__can__interface__t}{rr\_can\_interface\_t} *iface = \hyperlink{group___init_ga472a4890dcc7d7a13123c56a06946d91}{rr\_init\_interface}(\textcolor{comment}{/*TUTORIAL\_DEVICE*/} \textcolor{stringliteral}{"
      /dev/ttyS3"});

    \hyperlink{structrr__servo__t}{rr\_servo\_t} *servo = \hyperlink{group___init_ga0adb313a3eeb8a4399431e940a1f3e9e}{rr\_init\_servo}(iface, 
      \hyperlink{tutorial_8h_a9a3d33f25d3a72a8e30c885d238b3b65}{TUTORIAL\_SERVO\_0\_ID});

    \hyperlink{api_8h_a0e4aafa2ca9bd25219713176906b7c40}{API\_DEBUG}(\textcolor{stringliteral}{"========== Tutorial of the %s ==========\(\backslash\)n"}, \textcolor{stringliteral}{"reading servo error count"});

    uint32\_t \_size;
    \hyperlink{group___err_ga0803e0fab3e22b1bcb3f51aa393328b4}{rr\_read\_error\_status}(servo, &\_size, 0);
    \hyperlink{api_8h_a0e4aafa2ca9bd25219713176906b7c40}{API\_DEBUG}(\textcolor{stringliteral}{"\(\backslash\)tError count: %d %s\(\backslash\)n"}, \_size, \_size ? \textcolor{stringliteral}{""} : \textcolor{stringliteral}{"(No errors)"});

    \hyperlink{api_8h_a0e4aafa2ca9bd25219713176906b7c40}{API\_DEBUG}(\textcolor{stringliteral}{"========== Tutorial of the %s ==========\(\backslash\)n"}, \textcolor{stringliteral}{"reading servo error list"});
    uint8\_t array[100];
    uint32\_t size;
    \hyperlink{group___err_ga0803e0fab3e22b1bcb3f51aa393328b4}{rr\_read\_error\_status}(servo, &size, array);
    \hyperlink{api_8h_a0e4aafa2ca9bd25219713176906b7c40}{API\_DEBUG}(\textcolor{stringliteral}{"\(\backslash\)tError count: %d %s\(\backslash\)n"}, size, size ? \textcolor{stringliteral}{""} : \textcolor{stringliteral}{"(No errors)"});
    \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < size; i++)
    \{
        \hyperlink{api_8h_a0e4aafa2ca9bd25219713176906b7c40}{API\_DEBUG}(\textcolor{stringliteral}{"\(\backslash\)t\(\backslash\)tError: %s\(\backslash\)n"}, \hyperlink{group___err_gaa949cec80a64afa06ed9816fe1132888}{rr\_describe\_emcy\_bit}(array[i]));
    \}
\end{DoxyCodeInclude}

\end{DoxyEnumerate}